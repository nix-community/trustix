<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>API docs - Trustix Doc</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="about.html"><strong aria-hidden="true">1.</strong> About</a></li><li class="chapter-item expanded "><a href="intro.html"><strong aria-hidden="true">2.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="howto-nix/index.html"><strong aria-hidden="true">3.</strong> How to use Trustix with Nix</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="howto-nix/setup.html"><strong aria-hidden="true">3.1.</strong> Basic setup</a></li><li class="chapter-item expanded "><a href="howto-nix/colmena/index.html"><strong aria-hidden="true">3.2.</strong> Builder setup (using Colmena)</a></li><li class="chapter-item expanded "><a href="howto-nix/subscribing.html"><strong aria-hidden="true">3.3.</strong> Subscribing</a></li><li class="chapter-item expanded "><a href="howto-nix/binarycache.html"><strong aria-hidden="true">3.4.</strong> Usage as a binary cache</a></li></ol></li><li class="chapter-item expanded "><a href="hacking.html"><strong aria-hidden="true">4.</strong> Hacking</a></li><li class="chapter-item expanded "><a href="api.html" class="active"><strong aria-hidden="true">5.</strong> API docs</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Trustix Doc</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="protocol-documentation"><a class="header" href="#protocol-documentation">Protocol Documentation</a></h1>
<p><a name="top"></a></p>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
<ul>
<li>
<p><a href="#api_api-proto">api/api.proto</a></p>
<ul>
<li>
<p><a href="#trustix_api-v1-GetLogAuditProofRequest">GetLogAuditProofRequest</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-GetLogConsistencyProofRequest">GetLogConsistencyProofRequest</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-GetLogEntriesRequest">GetLogEntriesRequest</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-GetMapValueRequest">GetMapValueRequest</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-KeyValuePair">KeyValuePair</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-Log">Log</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-Log-MetaEntry">Log.MetaEntry</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-LogEntriesResponse">LogEntriesResponse</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-LogHeadRequest">LogHeadRequest</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-LogSigner">LogSigner</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-LogsRequest">LogsRequest</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-LogsResponse">LogsResponse</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-MapValueResponse">MapValueResponse</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-ProofResponse">ProofResponse</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-SparseCompactMerkleProof">SparseCompactMerkleProof</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-ValueRequest">ValueRequest</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-ValueResponse">ValueResponse</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-Log-LogModes">Log.LogModes</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-LogSigner-KeyTypes">LogSigner.KeyTypes</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-LogAPI">LogAPI</a></p>
</li>
<li>
<p><a href="#trustix_api-v1-NodeAPI">NodeAPI</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#rpc_rpc-proto">rpc/rpc.proto</a></p>
<ul>
<li>
<p><a href="#trustix_rpc-v1-DecideRequest">DecideRequest</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-DecisionResponse">DecisionResponse</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-EntriesResponse">EntriesResponse</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-EntriesResponse-EntriesEntry">EntriesResponse.EntriesEntry</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-FlushRequest">FlushRequest</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-FlushResponse">FlushResponse</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-LogValueDecision">LogValueDecision</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-LogValueResponse">LogValueResponse</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-SubmitRequest">SubmitRequest</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-SubmitResponse">SubmitResponse</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-SubmitResponse-Status">SubmitResponse.Status</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-LogRPC">LogRPC</a></p>
</li>
<li>
<p><a href="#trustix_rpc-v1-RPCApi">RPCApi</a></p>
</li>
</ul>
</li>
<li>
<p><a href="#schema_loghead-proto">schema/loghead.proto</a></p>
<ul>
<li><a href="#trustix_schema-v1-LogHead">LogHead</a></li>
</ul>
</li>
<li>
<p><a href="#schema_logleaf-proto">schema/logleaf.proto</a></p>
<ul>
<li><a href="#trustix_schema-v1-LogLeaf">LogLeaf</a></li>
</ul>
</li>
<li>
<p><a href="#schema_mapentry-proto">schema/mapentry.proto</a></p>
<ul>
<li><a href="#trustix_schema-v1-MapEntry">MapEntry</a></li>
</ul>
</li>
<li>
<p><a href="#schema_queue-proto">schema/queue.proto</a></p>
<ul>
<li><a href="#trustix_schema-v1-SubmitQueue">SubmitQueue</a></li>
</ul>
</li>
<li>
<p><a href="#scalar-value-types">Scalar Value Types</a></p>
</li>
</ul>
<p><a name="api_api-proto"></a></p>
<p align="right"><a href="#top">Top</a></p>
<h2 id="apiapiproto"><a class="header" href="#apiapiproto">api/api.proto</a></h2>
<p><a name="trustix_api-v1-GetLogAuditProofRequest"></a></p>
<h3 id="getlogauditproofrequest"><a class="header" href="#getlogauditproofrequest">GetLogAuditProofRequest</a></h3>
<p>Get log audit proof for a given tree</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td>Log identifier</td></tr>
<tr><td>Index</td><td><a href="#uint64">uint64</a></td><td>required</td><td>Tree node index</td></tr>
<tr><td>TreeSize</td><td><a href="#uint64">uint64</a></td><td>required</td><td>Tree size (proof reference)</td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-GetLogConsistencyProofRequest"></a></p>
<h3 id="getlogconsistencyproofrequest"><a class="header" href="#getlogconsistencyproofrequest">GetLogConsistencyProofRequest</a></h3>
<p>Get a consistency proof between two given log sizes</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td>Log identifier</td></tr>
<tr><td>FirstSize</td><td><a href="#uint64">uint64</a></td><td>required</td><td>From tree size</td></tr>
<tr><td>SecondSize</td><td><a href="#uint64">uint64</a></td><td>required</td><td>To tree size</td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-GetLogEntriesRequest"></a></p>
<h3 id="getlogentriesrequest"><a class="header" href="#getlogentriesrequest">GetLogEntriesRequest</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td>Log identifier</td></tr>
<tr><td>Start</td><td><a href="#uint64">uint64</a></td><td>required</td><td>Get entries from</td></tr>
<tr><td>Finish</td><td><a href="#uint64">uint64</a></td><td>required</td><td>Get entries to</td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-GetMapValueRequest"></a></p>
<h3 id="getmapvaluerequest"><a class="header" href="#getmapvaluerequest">GetMapValueRequest</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td>Log identifier</td></tr>
<tr><td>Key</td><td><a href="#bytes">bytes</a></td><td>required</td><td>Map key</td></tr>
<tr><td>MapRoot</td><td><a href="#bytes">bytes</a></td><td>required</td><td>Map root hash to derive proof from</td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-KeyValuePair"></a></p>
<h3 id="keyvaluepair"><a class="header" href="#keyvaluepair">KeyValuePair</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Key</td><td><a href="#bytes">bytes</a></td><td>required</td><td>Map key</td></tr>
<tr><td>Value</td><td><a href="#bytes">bytes</a></td><td>required</td><td>Map value</td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-Log"></a></p>
<h3 id="log"><a class="header" href="#log">Log</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td></td></tr>
<tr><td>Mode</td><td><a href="#trustix_api-v1-Log-LogModes">Log.LogModes</a></td><td>required</td><td></td></tr>
<tr><td>Protocol</td><td><a href="#string">string</a></td><td>required</td><td></td></tr>
<tr><td>Signer</td><td><a href="#trustix_api-v1-LogSigner">LogSigner</a></td><td>required</td><td></td></tr>
<tr><td>Meta</td><td><a href="#trustix_api-v1-Log-MetaEntry">Log.MetaEntry</a></td><td>repeated</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-Log-MetaEntry"></a></p>
<h3 id="logmetaentry"><a class="header" href="#logmetaentry">Log.MetaEntry</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><a href="#string">string</a></td><td>optional</td><td></td></tr>
<tr><td>value</td><td><a href="#string">string</a></td><td>optional</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-LogEntriesResponse"></a></p>
<h3 id="logentriesresponse"><a class="header" href="#logentriesresponse">LogEntriesResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Leaves</td><td><a href="#trustix_schema-v1-LogLeaf">trustix_schema.v1.LogLeaf</a></td><td>repeated</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-LogHeadRequest"></a></p>
<h3 id="logheadrequest"><a class="header" href="#logheadrequest">LogHeadRequest</a></h3>
<p>Request a signed head for a given log</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td>Log identifier</td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-LogSigner"></a></p>
<h3 id="logsigner"><a class="header" href="#logsigner">LogSigner</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>KeyType</td><td><a href="#trustix_api-v1-LogSigner-KeyTypes">LogSigner.KeyTypes</a></td><td>required</td><td></td></tr>
<tr><td>Public</td><td><a href="#string">string</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-LogsRequest"></a></p>
<h3 id="logsrequest"><a class="header" href="#logsrequest">LogsRequest</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Protocols</td><td><a href="#string">string</a></td><td>repeated</td><td>Allow to filter logs response based on the protocol identifier</td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-LogsResponse"></a></p>
<h3 id="logsresponse"><a class="header" href="#logsresponse">LogsResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Logs</td><td><a href="#trustix_api-v1-Log">Log</a></td><td>repeated</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-MapValueResponse"></a></p>
<h3 id="mapvalueresponse"><a class="header" href="#mapvalueresponse">MapValueResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Value</td><td><a href="#bytes">bytes</a></td><td>required</td><td>Note that the Value field is actually a MapEntry but we need to return the marshaled version as that's what the proof is created from</td></tr>
<tr><td>Proof</td><td><a href="#trustix_api-v1-SparseCompactMerkleProof">SparseCompactMerkleProof</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-ProofResponse"></a></p>
<h3 id="proofresponse"><a class="header" href="#proofresponse">ProofResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Proof</td><td><a href="#bytes">bytes</a></td><td>repeated</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-SparseCompactMerkleProof"></a></p>
<h3 id="sparsecompactmerkleproof"><a class="header" href="#sparsecompactmerkleproof">SparseCompactMerkleProof</a></h3>
<p>Sparse merkle tree proof</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>SideNodes</td><td><a href="#bytes">bytes</a></td><td>repeated</td><td></td></tr>
<tr><td>NonMembershipLeafData</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
<tr><td>BitMask</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
<tr><td>NumSideNodes</td><td><a href="#uint64">uint64</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-ValueRequest"></a></p>
<h3 id="valuerequest"><a class="header" href="#valuerequest">ValueRequest</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Digest</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-ValueResponse"></a></p>
<h3 id="valueresponse"><a class="header" href="#valueresponse">ValueResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Value</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-Log-LogModes"></a></p>
<h3 id="loglogmodes"><a class="header" href="#loglogmodes">Log.LogModes</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody>
<tr><td>Log</td><td>0</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-LogSigner-KeyTypes"></a></p>
<h3 id="logsignerkeytypes"><a class="header" href="#logsignerkeytypes">LogSigner.KeyTypes</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody>
<tr><td>ed25519</td><td>0</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-LogAPI"></a></p>
<h3 id="logapi"><a class="header" href="#logapi">LogAPI</a></h3>
<p>LogAPI is a logical grouping for RPC methods that are specific to a given
log.</p>
<div class="table-wrapper"><table><thead><tr><th>Method Name</th><th>Request Type</th><th>Response Type</th><th>Description</th></tr></thead><tbody>
<tr><td>GetHead</td><td><a href="#trustix_api-v1-LogHeadRequest">LogHeadRequest</a></td><td><a href="#trustix_schema-v1-LogHead">.trustix_schema.v1.LogHead</a></td><td>Get signed head</td></tr>
<tr><td>GetLogConsistencyProof</td><td><a href="#trustix_api-v1-GetLogConsistencyProofRequest">GetLogConsistencyProofRequest</a></td><td><a href="#trustix_api-v1-ProofResponse">ProofResponse</a></td><td></td></tr>
<tr><td>GetLogAuditProof</td><td><a href="#trustix_api-v1-GetLogAuditProofRequest">GetLogAuditProofRequest</a></td><td><a href="#trustix_api-v1-ProofResponse">ProofResponse</a></td><td></td></tr>
<tr><td>GetLogEntries</td><td><a href="#trustix_api-v1-GetLogEntriesRequest">GetLogEntriesRequest</a></td><td><a href="#trustix_api-v1-LogEntriesResponse">LogEntriesResponse</a></td><td></td></tr>
<tr><td>GetMapValue</td><td><a href="#trustix_api-v1-GetMapValueRequest">GetMapValueRequest</a></td><td><a href="#trustix_api-v1-MapValueResponse">MapValueResponse</a></td><td></td></tr>
<tr><td>GetMHLogConsistencyProof</td><td><a href="#trustix_api-v1-GetLogConsistencyProofRequest">GetLogConsistencyProofRequest</a></td><td><a href="#trustix_api-v1-ProofResponse">ProofResponse</a></td><td></td></tr>
<tr><td>GetMHLogAuditProof</td><td><a href="#trustix_api-v1-GetLogAuditProofRequest">GetLogAuditProofRequest</a></td><td><a href="#trustix_api-v1-ProofResponse">ProofResponse</a></td><td></td></tr>
<tr><td>GetMHLogEntries</td><td><a href="#trustix_api-v1-GetLogEntriesRequest">GetLogEntriesRequest</a></td><td><a href="#trustix_api-v1-LogEntriesResponse">LogEntriesResponse</a></td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_api-v1-NodeAPI"></a></p>
<h3 id="nodeapi"><a class="header" href="#nodeapi">NodeAPI</a></h3>
<p>NodeAPI is a logical grouping for RPC methods that are for the entire node
rather than individual logs.</p>
<div class="table-wrapper"><table><thead><tr><th>Method Name</th><th>Request Type</th><th>Response Type</th><th>Description</th></tr></thead><tbody>
<tr><td>Logs</td><td><a href="#trustix_api-v1-LogsRequest">LogsRequest</a></td><td><a href="#trustix_api-v1-LogsResponse">LogsResponse</a></td><td>Get a list of all logs published by this node</td></tr>
<tr><td>GetValue</td><td><a href="#trustix_api-v1-ValueRequest">ValueRequest</a></td><td><a href="#trustix_api-v1-ValueResponse">ValueResponse</a></td><td>Get values by their content-address</td></tr>
</tbody></table>
</div>
<p><a name="rpc_rpc-proto"></a></p>
<p align="right"><a href="#top">Top</a></p>
<h2 id="rpcrpcproto"><a class="header" href="#rpcrpcproto">rpc/rpc.proto</a></h2>
<p><a name="trustix_rpc-v1-DecideRequest"></a></p>
<h3 id="deciderequest"><a class="header" href="#deciderequest">DecideRequest</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Key</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
<tr><td>Protocol</td><td><a href="#string">string</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-DecisionResponse"></a></p>
<h3 id="decisionresponse"><a class="header" href="#decisionresponse">DecisionResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Decision</td><td><a href="#trustix_rpc-v1-LogValueDecision">LogValueDecision</a></td><td>required</td><td></td></tr>
<tr><td>Mismatches</td><td><a href="#trustix_rpc-v1-LogValueResponse">LogValueResponse</a></td><td>repeated</td><td>Non-matches (hash mismatch)</td></tr>
<tr><td>Misses</td><td><a href="#string">string</a></td><td>repeated</td><td>Full misses (log ids missing log entry entirely)</td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-EntriesResponse"></a></p>
<h3 id="entriesresponse"><a class="header" href="#entriesresponse">EntriesResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Key</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
<tr><td>Entries</td><td><a href="#trustix_rpc-v1-EntriesResponse-EntriesEntry">EntriesResponse.EntriesEntry</a></td><td>repeated</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-EntriesResponse-EntriesEntry"></a></p>
<h3 id="entriesresponseentriesentry"><a class="header" href="#entriesresponseentriesentry">EntriesResponse.EntriesEntry</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>key</td><td><a href="#string">string</a></td><td>optional</td><td></td></tr>
<tr><td>value</td><td><a href="#trustix_schema-v1-MapEntry">trustix_schema.v1.MapEntry</a></td><td>optional</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-FlushRequest"></a></p>
<h3 id="flushrequest"><a class="header" href="#flushrequest">FlushRequest</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-FlushResponse"></a></p>
<h3 id="flushresponse"><a class="header" href="#flushresponse">FlushResponse</a></h3>
<p><a name="trustix_rpc-v1-LogValueDecision"></a></p>
<h3 id="logvaluedecision"><a class="header" href="#logvaluedecision">LogValueDecision</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogIDs</td><td><a href="#string">string</a></td><td>repeated</td><td></td></tr>
<tr><td>Digest</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
<tr><td>Confidence</td><td><a href="#int32">int32</a></td><td>required</td><td></td></tr>
<tr><td>Value</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-LogValueResponse"></a></p>
<h3 id="logvalueresponse"><a class="header" href="#logvalueresponse">LogValueResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td></td></tr>
<tr><td>Digest</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-SubmitRequest"></a></p>
<h3 id="submitrequest"><a class="header" href="#submitrequest">SubmitRequest</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogID</td><td><a href="#string">string</a></td><td>required</td><td></td></tr>
<tr><td>Items</td><td><a href="#trustix_api-v1-KeyValuePair">trustix_api.v1.KeyValuePair</a></td><td>repeated</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-SubmitResponse"></a></p>
<h3 id="submitresponse"><a class="header" href="#submitresponse">SubmitResponse</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>status</td><td><a href="#trustix_rpc-v1-SubmitResponse-Status">SubmitResponse.Status</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-SubmitResponse-Status"></a></p>
<h3 id="submitresponsestatus"><a class="header" href="#submitresponsestatus">SubmitResponse.Status</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Number</th><th>Description</th></tr></thead><tbody>
<tr><td>OK</td><td>0</td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-LogRPC"></a></p>
<h3 id="logrpc"><a class="header" href="#logrpc">LogRPC</a></h3>
<p>RPCApi are &quot;private&quot; rpc methods for an instance related to a specific log.
This should only be available to trusted parties.</p>
<div class="table-wrapper"><table><thead><tr><th>Method Name</th><th>Request Type</th><th>Response Type</th><th>Description</th></tr></thead><tbody>
<tr><td>GetHead</td><td><a href="#trustix_api-v1-LogHeadRequest">.trustix_api.v1.LogHeadRequest</a></td><td><a href="#trustix_schema-v1-LogHead">.trustix_schema.v1.LogHead</a></td><td></td></tr>
<tr><td>GetLogEntries</td><td><a href="#trustix_api-v1-GetLogEntriesRequest">.trustix_api.v1.GetLogEntriesRequest</a></td><td><a href="#trustix_api-v1-LogEntriesResponse">.trustix_api.v1.LogEntriesResponse</a></td><td></td></tr>
<tr><td>Submit</td><td><a href="#trustix_rpc-v1-SubmitRequest">SubmitRequest</a></td><td><a href="#trustix_rpc-v1-SubmitResponse">SubmitResponse</a></td><td></td></tr>
<tr><td>Flush</td><td><a href="#trustix_rpc-v1-FlushRequest">FlushRequest</a></td><td><a href="#trustix_rpc-v1-FlushResponse">FlushResponse</a></td><td></td></tr>
</tbody></table>
</div>
<p><a name="trustix_rpc-v1-RPCApi"></a></p>
<h3 id="rpcapi"><a class="header" href="#rpcapi">RPCApi</a></h3>
<p>RPCApi are &quot;private&quot; rpc methods for an instance.
This should only be available to trusted parties.</p>
<div class="table-wrapper"><table><thead><tr><th>Method Name</th><th>Request Type</th><th>Response Type</th><th>Description</th></tr></thead><tbody>
<tr><td>Logs</td><td><a href="#trustix_api-v1-LogsRequest">.trustix_api.v1.LogsRequest</a></td><td><a href="#trustix_api-v1-LogsResponse">.trustix_api.v1.LogsResponse</a></td><td>Get a list of all logs published/subscribed by this node</td></tr>
<tr><td>Decide</td><td><a href="#trustix_rpc-v1-DecideRequest">DecideRequest</a></td><td><a href="#trustix_rpc-v1-DecisionResponse">DecisionResponse</a></td><td>Decide on an output for key based on the configured decision method</td></tr>
<tr><td>GetValue</td><td><a href="#trustix_api-v1-ValueRequest">.trustix_api.v1.ValueRequest</a></td><td><a href="#trustix_api-v1-ValueResponse">.trustix_api.v1.ValueResponse</a></td><td>Get values by their content-address</td></tr>
</tbody></table>
</div>
<p><a name="schema_loghead-proto"></a></p>
<p align="right"><a href="#top">Top</a></p>
<h2 id="schemalogheadproto"><a class="header" href="#schemalogheadproto">schema/loghead.proto</a></h2>
<p><a name="trustix_schema-v1-LogHead"></a></p>
<h3 id="loghead"><a class="header" href="#loghead">LogHead</a></h3>
<p>Log</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>LogRoot</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
<tr><td>TreeSize</td><td><a href="#uint64">uint64</a></td><td>required</td><td></td></tr>
<tr><td>MapRoot</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
<tr><td>MHRoot</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
<tr><td>MHTreeSize</td><td><a href="#uint64">uint64</a></td><td>required</td><td></td></tr>
<tr><td>Signature</td><td><a href="#bytes">bytes</a></td><td>required</td><td>Aggregate signature</td></tr>
</tbody></table>
</div>
<p><a name="schema_logleaf-proto"></a></p>
<p align="right"><a href="#top">Top</a></p>
<h2 id="schemalogleafproto"><a class="header" href="#schemalogleafproto">schema/logleaf.proto</a></h2>
<p><a name="trustix_schema-v1-LogLeaf"></a></p>
<h3 id="logleaf"><a class="header" href="#logleaf">LogLeaf</a></h3>
<p>Leaf value of a merkle tree</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Key</td><td><a href="#bytes">bytes</a></td><td>optional</td><td></td></tr>
<tr><td>ValueDigest</td><td><a href="#bytes">bytes</a></td><td>optional</td><td></td></tr>
<tr><td>LeafDigest</td><td><a href="#bytes">bytes</a></td><td>required</td><td></td></tr>
</tbody></table>
</div>
<p><a name="schema_mapentry-proto"></a></p>
<p align="right"><a href="#top">Top</a></p>
<h2 id="schemamapentryproto"><a class="header" href="#schemamapentryproto">schema/mapentry.proto</a></h2>
<p><a name="trustix_schema-v1-MapEntry"></a></p>
<h3 id="mapentry"><a class="header" href="#mapentry">MapEntry</a></h3>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Digest</td><td><a href="#bytes">bytes</a></td><td>required</td><td>Value digest of tree node</td></tr>
<tr><td>Index</td><td><a href="#uint64">uint64</a></td><td>required</td><td>Index of value in log</td></tr>
</tbody></table>
</div>
<p><a name="schema_queue-proto"></a></p>
<p align="right"><a href="#top">Top</a></p>
<h2 id="schemaqueueproto"><a class="header" href="#schemaqueueproto">schema/queue.proto</a></h2>
<p><a name="trustix_schema-v1-SubmitQueue"></a></p>
<h3 id="submitqueue"><a class="header" href="#submitqueue">SubmitQueue</a></h3>
<p>This type is internal only and not guaranteed stable</p>
<div class="table-wrapper"><table><thead><tr><th>Field</th><th>Type</th><th>Label</th><th>Description</th></tr></thead><tbody>
<tr><td>Min</td><td><a href="#uint64">uint64</a></td><td>required</td><td>Min is the <em>current</em> (last popped) ID</td></tr>
<tr><td>Max</td><td><a href="#uint64">uint64</a></td><td>required</td><td>Max is the last written item</td></tr>
</tbody></table>
</div>
<h2 id="scalar-value-types"><a class="header" href="#scalar-value-types">Scalar Value Types</a></h2>
<div class="table-wrapper"><table><thead><tr><th>.proto Type</th><th>Notes</th><th>C++</th><th>Java</th><th>Python</th><th>Go</th><th>C#</th><th>PHP</th><th>Ruby</th></tr></thead><tbody>
<tr><td><a name="double" /> double</td><td></td><td>double</td><td>double</td><td>float</td><td>float64</td><td>double</td><td>float</td><td>Float</td></tr>
<tr><td><a name="float" /> float</td><td></td><td>float</td><td>float</td><td>float</td><td>float32</td><td>float</td><td>float</td><td>Float</td></tr>
<tr><td><a name="int32" /> int32</td><td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="int64" /> int64</td><td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="uint32" /> uint32</td><td>Uses variable-length encoding.</td><td>uint32</td><td>int</td><td>int/long</td><td>uint32</td><td>uint</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="uint64" /> uint64</td><td>Uses variable-length encoding.</td><td>uint64</td><td>long</td><td>int/long</td><td>uint64</td><td>ulong</td><td>integer/string</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sint32" /> sint32</td><td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sint64" /> sint64</td><td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="fixed32" /> fixed32</td><td>Always four bytes. More efficient than uint32 if values are often greater than 2^28.</td><td>uint32</td><td>int</td><td>int</td><td>uint32</td><td>uint</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="fixed64" /> fixed64</td><td>Always eight bytes. More efficient than uint64 if values are often greater than 2^56.</td><td>uint64</td><td>long</td><td>int/long</td><td>uint64</td><td>ulong</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="sfixed32" /> sfixed32</td><td>Always four bytes.</td><td>int32</td><td>int</td><td>int</td><td>int32</td><td>int</td><td>integer</td><td>Bignum or Fixnum (as required)</td></tr>
<tr><td><a name="sfixed64" /> sfixed64</td><td>Always eight bytes.</td><td>int64</td><td>long</td><td>int/long</td><td>int64</td><td>long</td><td>integer/string</td><td>Bignum</td></tr>
<tr><td><a name="bool" /> bool</td><td></td><td>bool</td><td>boolean</td><td>boolean</td><td>bool</td><td>bool</td><td>boolean</td><td>TrueClass/FalseClass</td></tr>
<tr><td><a name="string" /> string</td><td>A string must always contain UTF-8 encoded or 7-bit ASCII text.</td><td>string</td><td>String</td><td>str/unicode</td><td>string</td><td>string</td><td>string</td><td>String (UTF-8)</td></tr>
<tr><td><a name="bytes" /> bytes</td><td>May contain any arbitrary sequence of bytes.</td><td>string</td><td>ByteString</td><td>str</td><td>[]byte</td><td>ByteString</td><td>string</td><td>String (ASCII-8BIT)</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="hacking.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="hacking.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
